# Use Ctrl-Space as prefix
unbind C-b
set -g prefix C-Space
bind C-Space send-prefix

# Pane movement (vim-style)
bind -r h select-pane -L
bind -r j select-pane -D
bind -r k select-pane -U
bind -r l select-pane -R

# General UX
set -g mouse on
setw -g mode-keys vi
unbind -n Tab
set -g set-clipboard on  # sync tmux buffers with the system clipboard when supported

# Copy mode
bind [ copy-mode
bind -n WheelUpPane if-shell -F -t = "#{mouse_any_flag}" "send-keys -M" "if -Ft= '#{pane_in_mode}' 'send-keys -M' 'copy-mode -e'"

# Copy to both tmux buffer (shared across windows) and system clipboard
bind -T copy-mode-vi y \
  send-keys -X copy-selection-and-cancel \; \
  run-shell 'tmux save-buffer - | xclip -selection clipboard -i'
bind -T copy-mode-vi Enter \
  send-keys -X copy-selection-and-cancel \; \
  run-shell 'tmux save-buffer - | xclip -selection clipboard -i'
